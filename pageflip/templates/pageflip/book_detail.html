{% extends 'pageflip/base.html' %}
{% load staticfiles %}

{% block title_block %}
    {{ book.title }}
{% endblock %}

{% block body_block %}
    <div class="book-detail" style="max-width: 600px; margin: auto; padding: 20px; background: pink; border-radius: 10px; box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);">
        <h2>{{ book.title }}</h2>
        <p><strong>Average Rating: {{ book.average_rating }}</strong></p>
        <p><strong>Author:</strong> {{ book.author }}</p>
        <p><strong>Year:</strong> {{ book.year_of_publication }}</p>
        <p><strong>Series Info:</strong> {{ book.series_info }}</p>
        <p><strong>Description:</strong> {{ book.description }}</p>
        <p><strong>Subgenres:</strong>
            {% for subgenre in book.subgenres.all %}
                <a href="{% url 'pageflip:books' %}?subgenre={{ subgenre.name }}">{{ subgenre.name }}</a>{% if not forloop.last %}, {% endif %}
            {% empty %}
                No subgenres
            {% endfor %}
            {% if user.is_authenticated %}
            <form action="{% url 'pageflip:add_rating' book.id %}" method="post">
        {% csrf_token %}
        <!-- This can definitely move, I just needed to test. Also I just discovered how to comment in html lol -->
        <select name="rating">
            <option value="1">1 Star</option>
            <option value="2">2 Star</option>
            <option value="3">3 Star</option>
            <option value="4">4 Star</option>
            <option value="5">5 Star</option>
        </select>
        <input type="submit" value="Rate">
    </form>
        {% else %}
        {% endif %}
        </p>
        <br>
        <a href="{% url 'pageflip:books' %}" class="btn btn-dark-blue">Back to Books</a>
    </div>
{% endblock %}
